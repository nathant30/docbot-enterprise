<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocBot Enterprise - Invoice Automation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            color: #1f2937;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="0.5" fill="rgba(255,255,255,0.03)"/><circle cx="20" cy="20" r="0.3" fill="rgba(255,255,255,0.02)"/><circle cx="80" cy="80" r="0.4" fill="rgba(255,255,255,0.025)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
            z-index: 1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 24px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .header h1 {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.2rem;
            font-weight: 800;
            position: relative;
            z-index: 2;
            letter-spacing: -0.5px;
        }
        
        .demo-mode {
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
            position: relative;
            z-index: 2;
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 6px 25px rgba(5, 150, 105, 0.5);
                transform: scale(1.02);
            }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            padding: 28px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.15),
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        
        .stat-card:hover::before {
            opacity: 1;
        }
        
        .stat-card h3 {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .stat-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
            letter-spacing: -1px;
        }
        
        .stat-card.invoices .value { color: #2563eb; }
        .stat-card.pending .value { color: #dc2626; }
        .stat-card.approved .value { color: #059669; }
        .stat-card.amount .value { color: #059669; }
        
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .nav-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            padding: 28px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: inherit;
            display: block;
            position: relative;
            overflow: hidden;
        }
        
        .nav-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .nav-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.15),
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        
        .nav-card:hover::before {
            left: 100%;
        }
        
        .nav-card h3 {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            font-size: 1.3rem;
            font-weight: 700;
            position: relative;
            z-index: 2;
        }
        
        .nav-card p {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .upload-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 36px;
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin: 20px 0;
            display: none;
            position: relative;
            overflow: hidden;
        }
        
        .upload-area {
            border: 2px dashed rgba(37, 99, 235, 0.3);
            border-radius: 16px;
            padding: 50px;
            text-align: center;
            margin: 24px 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(239, 246, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .upload-area::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #2563eb, #7c3aed, #2563eb);
            border-radius: 16px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .upload-area:hover {
            border-color: transparent;
            transform: scale(1.02);
            box-shadow: 0 12px 32px rgba(37, 99, 235, 0.2);
        }
        
        .upload-area:hover::before {
            opacity: 1;
            animation: gradientShift 2s infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background: linear-gradient(45deg, #2563eb, #7c3aed, #2563eb); }
            50% { background: linear-gradient(45deg, #7c3aed, #2563eb, #7c3aed); }
        }
        
        .upload-area.dragover {
            border-color: transparent;
            background: rgba(37, 99, 235, 0.1);
            transform: scale(1.05);
            box-shadow: 0 16px 48px rgba(37, 99, 235, 0.3);
        }
        
        .upload-area.dragover::before {
            opacity: 1;
        }
        
        .upload-btn {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .upload-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .upload-btn:hover {
            background: linear-gradient(135deg, #1d4ed8, #2563eb);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }
        
        .upload-btn:hover::before {
            left: 100%;
        }
        
        .upload-btn:active {
            transform: translateY(0);
        }
        
        .upload-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .upload-btn:disabled::before {
            display: none;
        }
        
        .process-later {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
        }
        
        .process-later:hover {
            background: linear-gradient(135deg, #6d28d9, #7c3aed);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
        }
        
        .back-btn {
            background: #6b7280;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .back-btn:hover {
            background: #4b5563;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            background: #f0f9ff;
            border-radius: 8px;
            border: 1px solid #2563eb;
        }
        
        .result h3 {
            color: #2563eb;
            margin-bottom: 10px;
        }
        
        .result pre {
            background: #f3f4f6;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 0.85rem;
        }
        
        .status {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 28px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .status h3 {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .status-item:last-child {
            border-bottom: none;
        }
        
        .loading {
            text-align: center;
            color: #6b7280;
            padding: 20px;
        }
        
        .error {
            background: #fef2f2;
            color: #dc2626;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #fca5a5;
            margin: 10px 0;
        }
        
        .success {
            background: #f0fdf4;
            color: #059669;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #86efac;
            margin: 10px 0;
        }
        
        .invoice-review {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 36px;
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .side-by-side {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .invoice-preview {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            background: #f9fafb;
        }
        
        .ocr-editor {
            border: 2px solid #2563eb;
            border-radius: 8px;
            padding: 20px;
            background: white;
        }
        
        .confidence-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            padding: 12px;
            background: #f0f9ff;
            border-radius: 6px;
            border: 1px solid #2563eb;
        }
        
        .confidence-bar {
            flex: 1;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            transition: width 0.5s ease;
        }
        
        .confidence-high { background: #059669; }
        .confidence-medium { background: #f59e0b; }
        .confidence-low { background: #dc2626; }
        
        .editable-field {
            width: 100%;
            padding: 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            margin: 5px 0;
            font-family: inherit;
        }
        
        .editable-field:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }
        
        .field-group {
            margin: 15px 0;
        }
        
        .field-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
            display: block;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }
        
        .approve-btn {
            background: #059669;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }
        
        .approve-btn:hover {
            background: #047857;
        }
        
        .reject-btn {
            background: #dc2626;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }
        
        .reject-btn:hover {
            background: #b91c1c;
        }
        
        .pending-queue {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 36px;
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .invoice-queue-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            margin: 10px 0;
        }
        
        .queue-item-info {
            flex: 1;
        }
        
        .review-btn {
            background: #2563eb;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* Invoice Management Styles */
        .invoice-management {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 36px;
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .tabs-container {
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 30px;
        }
        
        .tab-buttons {
            display: flex;
            gap: 0;
        }
        
        .tab-btn {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: #6b7280;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .tab-btn.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
            background: #f0f9ff;
        }
        
        .tab-btn:hover:not(.active) {
            color: #374151;
            background: #f9fafb;
            transform: translateY(-2px);
        }
        
        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .tab-btn:hover::before {
            left: 100%;
        }
        
        .tab-content {
            display: none;
            animation: fadeInUp 0.4s ease-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .invoice-card {
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.5);
            border-radius: 16px;
            padding: 24px;
            margin: 18px 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .invoice-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #2563eb, #7c3aed, #2563eb);
            transition: left 0.6s ease;
        }
        
        .invoice-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.15),
                0 4px 16px rgba(0, 0, 0, 0.1);
            border-color: rgba(37, 99, 235, 0.5);
            background: rgba(255, 255, 255, 0.9);
        }
        
        .invoice-card:hover::before {
            left: 0;
        }
        
        .invoice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .invoice-title {
            font-weight: 600;
            color: #1f2937;
            margin: 0;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #d97706;
        }
        
        .status-approved {
            background: #d1fae5;
            color: #059669;
        }
        
        .status-rejected {
            background: #fee2e2;
            color: #dc2626;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .invoice-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .detail-item {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-weight: 500;
            color: #374151;
            margin-bottom: 2px;
        }
        
        .accuracy-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            animation: slideInRight 0.6s ease-out;
        }
        
        .accuracy-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .accuracy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
        }
        
        .accuracy-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
        }
        
        .improvement-badge {
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-8px); }
            60% { transform: translateY(-4px); }
        }
        
        .accuracy-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            position: relative;
            z-index: 2;
        }
        
        .metric {
            text-align: center;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
            animation: countUp 2s ease-out;
        }
        
        @keyframes countUp {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .floating-icons {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .floating-icon {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-icon:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .floating-icon:nth-child(2) { top: 60%; left: 80%; animation-delay: 2s; }
        .floating-icon:nth-child(3) { top: 40%; left: 60%; animation-delay: 4s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .search-filter-bar {
            display: flex;
            gap: 18px;
            margin: 24px 0;
            padding: 24px;
            background: rgba(248, 250, 252, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(229, 231, 235, 0.3);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .search-input {
            flex: 1;
            padding: 12px 18px;
            border: 1px solid rgba(209, 213, 219, 0.5);
            border-radius: 12px;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .search-input:focus {
            outline: none;
            border-color: rgba(37, 99, 235, 0.6);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 
                0 0 0 4px rgba(37, 99, 235, 0.1),
                0 4px 12px rgba(37, 99, 235, 0.15);
            transform: scale(1.02);
        }
        
        .filter-select {
            padding: 12px 18px;
            border: 1px solid rgba(209, 213, 219, 0.5);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.95rem;
        }
        
        .filter-select:hover {
            border-color: rgba(37, 99, 235, 0.6);
            background: rgba(255, 255, 255, 0.95);
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .summary-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            padding: 24px;
            border-radius: 16px;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.08),
                0 1px 4px rgba(0, 0, 0, 0.05);
            border-left: 4px solid;
            border-image: linear-gradient(135deg, #2563eb, #7c3aed) 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.05), rgba(124, 58, 237, 0.05));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 
                0 12px 32px rgba(0, 0, 0, 0.15),
                0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .summary-card:hover::before {
            opacity: 1;
        }
        
        .summary-number {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
            letter-spacing: -1px;
        }
        
        .summary-label {
            color: #6b7280;
            font-size: 0.9rem;
            position: relative;
            z-index: 2;
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            
            .header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .nav-grid {
                grid-template-columns: 1fr;
            }
            
            .side-by-side {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .search-filter-bar {
                flex-direction: column;
                gap: 12px;
            }
            
            .upload-area {
                padding: 32px 20px;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .nav-card {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .tab-buttons {
                flex-direction: column;
            }
            
            .tab-btn {
                border-bottom: none;
                border-right: 3px solid transparent;
            }
            
            .tab-btn.active {
                border-right-color: #2563eb;
            }
        }
        
        /* Advanced Animations */
        @keyframes float-glow {
            0%, 100% {
                transform: translateY(0) scale(1);
                filter: brightness(1);
            }
            50% {
                transform: translateY(-8px) scale(1.02);
                filter: brightness(1.1);
            }
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
        
        .sparkle-effect {
            position: relative;
        }
        
        .sparkle-effect::after {
            content: '✨';
            position: absolute;
            top: -5px;
            right: -5px;
            animation: sparkle 2s infinite;
            font-size: 0.8rem;
        }
        
        /* Improved Focus States */
        *:focus {
            outline: none;
        }
        
        button:focus-visible,
        input:focus-visible,
        select:focus-visible {
            box-shadow: 
                0 0 0 3px rgba(37, 99, 235, 0.3),
                0 4px 12px rgba(37, 99, 235, 0.2);
            transform: scale(1.02);
        }
        
        /* Improved Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #1d4ed8, #6d28d9);
        }
        
        /* Vendor Management Styles */
        .vendor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin: 24px 0;
        }
        
        .vendor-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .vendor-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .vendor-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.15),
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        
        .vendor-card:hover::before {
            left: 100%;
        }
        
        .vendor-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
        }
        
        .vendor-avatar {
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }
        
        .vendor-avatar-large {
            font-size: 4rem;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 24px;
            box-shadow: 0 8px 24px rgba(37, 99, 235, 0.2);
        }
        
        .vendor-info {
            flex: 1;
        }
        
        .vendor-name {
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 4px 0;
        }
        
        .vendor-industry {
            color: #6b7280;
            font-size: 0.9rem;
            margin: 0;
        }
        
        .vendor-status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        .status-active {
            background: #d1fae5;
            color: #059669;
        }
        
        .vendor-stats {
            position: relative;
            z-index: 2;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(229, 231, 235, 0.5);
        }
        
        .stat-row:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .stat-value {
            font-weight: 600;
            color: #1f2937;
        }
        
        .vendor-profile-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 32px;
            padding: 24px;
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(229, 231, 235, 0.3);
        }
        
        .vendor-title-section {
            flex: 1;
        }
        
        .vendor-title-section h2 {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            font-weight: 800;
            margin: 0 0 8px 0;
        }
        
        .vendor-title-section p {
            color: #6b7280;
            font-size: 1.1rem;
            margin: 0 0 12px 0;
        }
        
        .vendor-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .vendor-detail-grid {
            display: grid;
            gap: 16px;
        }
        
        .vendor-detail-grid .detail-item {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 12px;
            align-items: start;
            padding: 12px 0;
            border-bottom: 1px solid rgba(229, 231, 235, 0.3);
        }
        
        .vendor-detail-grid .detail-item:last-child {
            border-bottom: none;
        }
        
        .performance-chart {
            margin-bottom: 24px;
        }
        
        .chart-item {
            margin: 16px 0;
        }
        
        .chart-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .chart-bar {
            position: relative;
            height: 24px;
            background: rgba(229, 231, 235, 0.3);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .chart-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 1s ease-out;
            position: relative;
        }
        
        .chart-value {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .recent-activity {
            margin-top: 24px;
        }
        
        .recent-activity h4 {
            color: #374151;
            font-size: 1rem;
            margin-bottom: 16px;
        }
        
        .activity-item {
            display: flex;
            gap: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(229, 231, 235, 0.3);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-date {
            color: #6b7280;
            font-size: 0.8rem;
            min-width: 80px;
        }
        
        .activity-desc {
            color: #374151;
            font-size: 0.9rem;
            flex: 1;
        }
        
        /* Mobile optimizations for vendor cards */
        @media (max-width: 768px) {
            .vendor-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .vendor-profile-header {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }
            
            .vendor-actions {
                justify-content: center;
            }
            
            .vendor-detail-grid .detail-item {
                grid-template-columns: 1fr;
                gap: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Dashboard View -->
        <div id="dashboard-view">
            <div class="header">
                <h1>📊 DocBot Enterprise Dashboard</h1>
                <div class="demo-mode">✅ Demo Mode</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card invoices">
                    <h3>Total Invoices</h3>
                    <div class="value">47</div>
                </div>
                <div class="stat-card pending">
                    <h3>Pending Review</h3>
                    <div class="value">8</div>
                </div>
                <div class="stat-card approved">
                    <h3>Approved Invoices</h3>
                    <div class="value">39</div>
                </div>
                <div class="stat-card amount">
                    <h3>Total Amount</h3>
                    <div class="value">$23,456.78</div>
                </div>
            </div>
            
            <div class="nav-grid">
                <a href="#" class="nav-card" onclick="showUpload()">
                    <h3>📄 Upload Invoice</h3>
                    <p>Upload and process new invoices with AI-powered OCR extraction</p>
                </a>
                <a href="#" class="nav-card" onclick="showInvoices()">
                    <h3>📋 View Invoices</h3>
                    <p>Manage and review all processed invoices</p>
                </a>
                <a href="#" class="nav-card" onclick="showVendors()">
                    <h3>🏢 Vendors</h3>
                    <p>Track vendor relationships and payment history</p>
                </a>
                <a href="#" class="nav-card" onclick="showApiDocs()">
                    <h3>📖 API Documentation</h3>
                    <p>View complete API documentation and endpoints</p>
                </a>
            </div>
            
            <div class="status">
                <h3>🔗 System Status</h3>
                <div class="status-item">
                    <span>Frontend</span>
                    <span style="color: #059669;">✅ Connected</span>
                </div>
                <div class="status-item">
                    <span>Backend API</span>
                    <span style="color: #059669;">✅ https://docbot-enterprise-backend.onrender.com</span>
                </div>
                <div class="status-item">
                    <span>Authentication</span>
                    <span style="color: #059669;">✅ Demo Mode Active</span>
                </div>
                <div class="status-item">
                    <span>OCR Processing</span>
                    <span style="color: #059669;">✅ Ready</span>
                </div>
            </div>
        </div>
        
        <!-- Upload View -->
        <div id="upload-view" class="upload-section">
            <button class="back-btn" onclick="showDashboard()">← Back to Dashboard</button>
            <h2>📄 Upload Invoice</h2>
            <p style="margin: 10px 0; color: #6b7280;">Upload PDF, PNG, or JPG files for AI-powered OCR processing</p>
            
            <div class="upload-area" id="upload-area" onclick="document.getElementById('file-input').click()">
                <div>
                    <h3>📁 Click to select files or drag and drop</h3>
                    <p>Supports PDF, PNG, JPG (up to 50MB)</p>
                </div>
                <input type="file" id="file-input" style="display: none;" accept=".pdf,.png,.jpg,.jpeg" onchange="handleFileSelect(this)">
            </div>
            
            <div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
                    <button class="upload-btn process-now" id="process-now-btn" onclick="uploadFile('now')" disabled>
                        ⚡ Process Now
                    </button>
                    <button class="upload-btn process-later" id="process-later-btn" onclick="uploadFile('later')" disabled>
                        ⏰ Process Later
                    </button>
                </div>
                <div id="upload-status"></div>
            </div>
            
            <div id="upload-result"></div>
        </div>
        
        <!-- Invoice Review View (Process Now) -->
        <div id="invoice-review" class="invoice-review">
            <button class="back-btn" onclick="showUpload()">← Back to Upload</button>
            <h2>📋 Invoice Review & OCR Correction</h2>
            
            <div class="confidence-indicator">
                <span><strong>AI Confidence:</strong></span>
                <div class="confidence-bar">
                    <div class="confidence-fill" id="confidence-fill"></div>
                </div>
                <span id="confidence-text">95%</span>
                <span id="learning-indicator">🧠 Learning enabled</span>
            </div>
            
            <div class="side-by-side">
                <div class="invoice-preview">
                    <h3>📄 Original Invoice</h3>
                    <div id="invoice-preview-content">
                        <p style="text-align: center; padding: 40px; color: #6b7280;">
                            Invoice preview will appear here
                        </p>
                    </div>
                </div>
                
                <div class="ocr-editor">
                    <h3>🤖 OCR Results (Editable)</h3>
                    <form id="ocr-form">
                        <div class="field-group">
                            <label class="field-label">Invoice Number:</label>
                            <input type="text" class="editable-field" id="invoice-number" value="INV-2025-0826">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Vendor Name:</label>
                            <input type="text" class="editable-field" id="vendor-name" value="Demo Vendor Corp">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Total Amount:</label>
                            <input type="text" class="editable-field" id="total-amount" value="$1,250.75">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Invoice Date:</label>
                            <input type="date" class="editable-field" id="invoice-date" value="2025-08-26">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Due Date:</label>
                            <input type="date" class="editable-field" id="due-date" value="2025-09-25">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Line Items:</label>
                            <textarea class="editable-field" id="line-items" rows="4">Professional Services - Qty: 20, Unit: $50.00, Total: $1,000.00
Software License - Qty: 1, Unit: $250.75, Total: $250.75</textarea>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="approve-btn" onclick="approveInvoice()">✅ Approve & Process</button>
                <button class="reject-btn" onclick="rejectInvoice()">❌ Reject Invoice</button>
                <button class="upload-btn" onclick="saveForLater()">💾 Save for Later</button>
            </div>
        </div>
        
        <!-- Invoice Management View -->
        <div id="invoice-management" class="invoice-management">
            <button class="back-btn" onclick="showDashboard()">← Back to Dashboard</button>
            <h2>📋 Invoice Management System</h2>
            
            <!-- AI Accuracy Tracking Card -->
            <div class="accuracy-card">
                <div class="floating-icons">
                    <div class="floating-icon">🤖</div>
                    <div class="floating-icon">📊</div>
                    <div class="floating-icon">⚡</div>
                </div>
                <div class="accuracy-header">
                    <h3 class="accuracy-title">🧠 AI Performance Dashboard</h3>
                    <div class="improvement-badge">+12.5% in 7 days</div>
                </div>
                <div class="accuracy-metrics">
                    <div class="metric">
                        <div class="metric-value">97.8%</div>
                        <div class="metric-label">Current Accuracy</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">1,247</div>
                        <div class="metric-label">Invoices Processed</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">23ms</div>
                        <div class="metric-label">Avg Processing Time</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">99.2%</div>
                        <div class="metric-label">Uptime This Week</div>
                    </div>
                </div>
            </div>
            
            <!-- Search and Filter Bar -->
            <div class="search-filter-bar">
                <input type="text" class="search-input" placeholder="🔍 Search invoices by vendor, number, or amount..." id="invoice-search">
                <select class="filter-select" id="date-filter">
                    <option value="all">All Dates</option>
                    <option value="today">Today</option>
                    <option value="week">This Week</option>
                    <option value="month">This Month</option>
                </select>
                <select class="filter-select" id="amount-filter">
                    <option value="all">All Amounts</option>
                    <option value="small">< $1,000</option>
                    <option value="medium">$1,000 - $10,000</option>
                    <option value="large">> $10,000</option>
                </select>
            </div>
            
            <!-- Tabs -->
            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab('all')">📊 All Invoices</button>
                    <button class="tab-btn" onclick="switchTab('pending')">⏰ Pending Review</button>
                    <button class="tab-btn" onclick="switchTab('approved')">✅ Approved</button>
                </div>
            </div>
            
            <!-- Tab Content: All Invoices -->
            <div id="tab-all" class="tab-content active">
                <div class="stats-summary">
                    <div class="summary-card">
                        <div class="summary-number">47</div>
                        <div class="summary-label">Total Invoices</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">$23,456</div>
                        <div class="summary-label">Total Value</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">12</div>
                        <div class="summary-label">Active Vendors</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">2.3 days</div>
                        <div class="summary-label">Avg Processing Time</div>
                    </div>
                </div>
                
                <div id="all-invoices-list">
                    <div class="invoice-card" onclick="viewInvoiceDetails('12345')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0826 - Demo Vendor Corp</h4>
                            <span class="status-badge status-approved">✅ Approved</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$1,250.75</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date</span>
                                <span>Aug 26, 2025</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>95%</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Processing Time</span>
                                <span>1.25s</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="invoice-card" onclick="viewInvoiceDetails('12346')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0825 - Global Services LLC</h4>
                            <span class="status-badge status-pending">⏰ Pending</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$3,450.25</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date</span>
                                <span>Aug 25, 2025</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>87%</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Processing Time</span>
                                <span>2.1s</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="invoice-card" onclick="viewInvoiceDetails('12347')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0824 - Tech Solutions Inc</h4>
                            <span class="status-badge status-approved">✅ Approved</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$7,890.50</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date</span>
                                <span>Aug 24, 2025</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>98%</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Processing Time</span>
                                <span>0.95s</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tab Content: Pending Review -->
            <div id="tab-pending" class="tab-content">
                <div class="stats-summary">
                    <div class="summary-card">
                        <div class="summary-number">8</div>
                        <div class="summary-label">Pending Invoices</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">$12,340</div>
                        <div class="summary-label">Pending Value</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">85%</div>
                        <div class="summary-label">Avg Confidence</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">4.2 hrs</div>
                        <div class="summary-label">Avg Wait Time</div>
                    </div>
                </div>
                
                <div id="pending-invoices-list">
                    <div class="invoice-card" onclick="reviewPendingInvoice('12346')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0825 - Global Services LLC</h4>
                            <span class="status-badge status-pending">⏰ Needs Review</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$3,450.25</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>87% (Medium)</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Waiting Since</span>
                                <span>5 hours ago</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Priority</span>
                                <span>🔥 High</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="invoice-card" onclick="reviewPendingInvoice('12348')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0823 - Office Supplies Pro</h4>
                            <span class="status-badge status-pending">⏰ Needs Review</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$245.80</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>78% (Low)</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Waiting Since</span>
                                <span>1 day ago</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Priority</span>
                                <span>⚠️ Medium</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tab Content: Approved -->
            <div id="tab-approved" class="tab-content">
                <div class="stats-summary">
                    <div class="summary-card">
                        <div class="summary-number">39</div>
                        <div class="summary-label">Approved Invoices</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">$18,905</div>
                        <div class="summary-label">Approved Value</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">96%</div>
                        <div class="summary-label">Avg Confidence</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">1.8 days</div>
                        <div class="summary-label">Avg Approval Time</div>
                    </div>
                </div>
                
                <div id="approved-invoices-list">
                    <div class="invoice-card" onclick="viewInvoiceDetails('12345')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0826 - Demo Vendor Corp</h4>
                            <span class="status-badge status-approved">✅ Paid</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$1,250.75</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Approved</span>
                                <span>Today, 2:30 PM</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Payment Status</span>
                                <span>💰 Paid</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>95%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="invoice-card" onclick="viewInvoiceDetails('12347')">
                        <div class="invoice-header">
                            <h4 class="invoice-title">INV-2025-0824 - Tech Solutions Inc</h4>
                            <span class="status-badge status-approved">✅ Processing</span>
                        </div>
                        <div class="invoice-details">
                            <div class="detail-item">
                                <span class="detail-label">Amount</span>
                                <span>$7,890.50</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Approved</span>
                                <span>Yesterday, 4:15 PM</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Payment Status</span>
                                <span>⏳ Scheduled</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">AI Confidence</span>
                                <span>98%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Vendor Management View -->
        <div id="vendor-management" class="invoice-management">
            <button class="back-btn" onclick="showDashboard()">← Back to Dashboard</button>
            <h2>🏢 Vendor Management System</h2>
            
            <!-- Vendor Analytics Card -->
            <div class="accuracy-card" style="background: linear-gradient(135deg, #059669 0%, #10b981 100%);">
                <div class="floating-icons">
                    <div class="floating-icon">🏢</div>
                    <div class="floating-icon">📈</div>
                    <div class="floating-icon">💼</div>
                </div>
                <div class="accuracy-header">
                    <h3 class="accuracy-title">🏢 Vendor Analytics Dashboard</h3>
                    <div class="improvement-badge">+8.3% efficiency</div>
                </div>
                <div class="accuracy-metrics">
                    <div class="metric">
                        <div class="metric-value">12</div>
                        <div class="metric-label">Active Vendors</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">94.5%</div>
                        <div class="metric-label">Avg OCR Accuracy</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">2.1 days</div>
                        <div class="metric-label">Avg Payment Terms</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">$18.2K</div>
                        <div class="metric-label">Monthly Volume</div>
                    </div>
                </div>
            </div>
            
            <!-- Search and Filter Bar -->
            <div class="search-filter-bar">
                <input type="text" class="search-input" placeholder="🔍 Search vendors by name, industry, or payment terms..." id="vendor-search">
                <select class="filter-select" id="vendor-status-filter">
                    <option value="all">All Status</option>
                    <option value="active">Active</option>
                    <option value="pending">Pending Setup</option>
                    <option value="inactive">Inactive</option>
                </select>
                <select class="filter-select" id="vendor-volume-filter">
                    <option value="all">All Volumes</option>
                    <option value="high">High Volume (>$5K)</option>
                    <option value="medium">Medium Volume ($1K-$5K)</option>
                    <option value="low">Low Volume (<$1K)</option>
                </select>
            </div>
            
            <!-- Vendor Grid -->
            <div class="vendor-grid">
                <div class="vendor-card sparkle-effect" onclick="showVendorProfile('vendor-1')">
                    <div class="vendor-header">
                        <div class="vendor-avatar">🏢</div>
                        <div class="vendor-info">
                            <h4 class="vendor-name">Demo Vendor Corp</h4>
                            <p class="vendor-industry">Technology Services</p>
                        </div>
                        <div class="vendor-status-badge status-active">✅ Active</div>
                    </div>
                    
                    <div class="vendor-stats">
                        <div class="stat-row">
                            <span class="stat-label">Total Invoices:</span>
                            <span class="stat-value">23</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Total Amount:</span>
                            <span class="stat-value">$12,456.78</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">OCR Accuracy:</span>
                            <span class="stat-value">95%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Payment Terms:</span>
                            <span class="stat-value">Net 30</span>
                        </div>
                    </div>
                </div>
                
                <div class="vendor-card" onclick="showVendorProfile('vendor-2')">
                    <div class="vendor-header">
                        <div class="vendor-avatar">🏭</div>
                        <div class="vendor-info">
                            <h4 class="vendor-name">Global Services LLC</h4>
                            <p class="vendor-industry">Manufacturing</p>
                        </div>
                        <div class="vendor-status-badge status-active">✅ Active</div>
                    </div>
                    
                    <div class="vendor-stats">
                        <div class="stat-row">
                            <span class="stat-label">Total Invoices:</span>
                            <span class="stat-value">18</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Total Amount:</span>
                            <span class="stat-value">$8,942.30</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">OCR Accuracy:</span>
                            <span class="stat-value">87%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Payment Terms:</span>
                            <span class="stat-value">Net 15</span>
                        </div>
                    </div>
                </div>
                
                <div class="vendor-card" onclick="showVendorProfile('vendor-3')">
                    <div class="vendor-header">
                        <div class="vendor-avatar">🏪</div>
                        <div class="vendor-info">
                            <h4 class="vendor-name">Office Supplies Pro</h4>
                            <p class="vendor-industry">Retail</p>
                        </div>
                        <div class="vendor-status-badge status-pending">⏰ Pending</div>
                    </div>
                    
                    <div class="vendor-stats">
                        <div class="stat-row">
                            <span class="stat-label">Total Invoices:</span>
                            <span class="stat-value">6</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Total Amount:</span>
                            <span class="stat-value">$2,058.65</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">OCR Accuracy:</span>
                            <span class="stat-value">78%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Payment Terms:</span>
                            <span class="stat-value">Due on Receipt</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Vendor Profile View -->
        <div id="vendor-profile" class="invoice-management">
            <button class="back-btn" onclick="showVendorManagement()">← Back to Vendors</button>
            <div class="vendor-profile-header">
                <div class="vendor-avatar-large">🏢</div>
                <div class="vendor-title-section">
                    <h2 id="profile-vendor-name">Demo Vendor Corp</h2>
                    <p id="profile-vendor-industry">Technology Services</p>
                    <div class="vendor-status-badge status-active">✅ Active Since Jan 2025</div>
                </div>
                <div class="vendor-actions">
                    <button class="upload-btn" onclick="editVendor()">✏️ Edit Profile</button>
                    <button class="upload-btn process-later" onclick="viewVendorHistory()">📊 View History</button>
                </div>
            </div>
            
            <!-- Vendor Metrics -->
            <div class="stats-summary">
                <div class="summary-card">
                    <div class="summary-number">23</div>
                    <div class="summary-label">Total Invoices</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number">$12.5K</div>
                    <div class="summary-label">Total Amount</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number">95%</div>
                    <div class="summary-label">OCR Accuracy</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number">2.3 days</div>
                    <div class="summary-label">Avg Processing</div>
                </div>
            </div>
            
            <!-- Vendor Details -->
            <div class="side-by-side">
                <div class="invoice-preview">
                    <h3>🏢 Vendor Information</h3>
                    <div class="vendor-detail-grid">
                        <div class="detail-item">
                            <span class="detail-label">Company Name:</span>
                            <span>Demo Vendor Corp</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Industry:</span>
                            <span>Technology Services</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Contact Email:</span>
                            <span>billing@demovendor.com</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Phone:</span>
                            <span>(555) 123-4567</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Address:</span>
                            <span>123 Tech Street, Silicon Valley, CA 94025</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Tax ID:</span>
                            <span>XX-XXXXXXX</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Payment Terms:</span>
                            <span>Net 30 Days</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Preferred Currency:</span>
                            <span>USD</span>
                        </div>
                    </div>
                </div>
                
                <div class="ocr-editor">
                    <h3>📊 Performance Analytics</h3>
                    <div class="performance-chart">
                        <div class="chart-item">
                            <div class="chart-label">OCR Accuracy Trend</div>
                            <div class="chart-bar">
                                <div class="chart-fill" style="width: 95%; background: linear-gradient(90deg, #059669, #10b981);"></div>
                                <span class="chart-value">95%</span>
                            </div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">Payment Punctuality</div>
                            <div class="chart-bar">
                                <div class="chart-fill" style="width: 88%; background: linear-gradient(90deg, #2563eb, #3b82f6);"></div>
                                <span class="chart-value">88%</span>
                            </div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">Invoice Quality Score</div>
                            <div class="chart-bar">
                                <div class="chart-fill" style="width: 92%; background: linear-gradient(90deg, #7c3aed, #8b5cf6);"></div>
                                <span class="chart-value">92%</span>
                            </div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">Processing Speed</div>
                            <div class="chart-bar">
                                <div class="chart-fill" style="width: 76%; background: linear-gradient(90deg, #f59e0b, #fbbf24);"></div>
                                <span class="chart-value">Fast</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recent-activity">
                        <h4>📈 Recent Activity</h4>
                        <div class="activity-item">
                            <span class="activity-date">Today</span>
                            <span class="activity-desc">Invoice INV-2025-0826 processed (95% confidence)</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-date">Yesterday</span>
                            <span class="activity-desc">Payment received for INV-2025-0820</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-date">3 days ago</span>
                            <span class="activity-desc">Vendor profile updated with new contact info</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- New Vendor Creation Workflow -->
        <div id="vendor-creation" class="invoice-management">
            <button class="back-btn" onclick="showUpload()">← Back to Upload</button>
            <h2>🆕 New Vendor Detected</h2>
            <p style="color: #6b7280; margin-bottom: 20px;">Our AI has detected a new vendor. Please verify the details before processing the invoice.</p>
            
            <div class="confidence-indicator">
                <span><strong>Vendor Detection Confidence:</strong></span>
                <div class="confidence-bar">
                    <div class="confidence-fill confidence-medium" id="vendor-confidence-fill" style="width: 82%;"></div>
                </div>
                <span id="vendor-confidence-text">82%</span>
                <span id="vendor-learning-indicator">🧠 Learning new vendor pattern</span>
            </div>
            
            <div class="side-by-side">
                <div class="invoice-preview">
                    <h3>📄 Invoice Preview</h3>
                    <div id="vendor-invoice-preview">
                        <div style="border: 1px solid #ccc; padding: 20px; background: white; text-align: center;">
                            <h4>📄 sample-invoice.pdf</h4>
                            <p style="margin: 10px 0;">New Vendor Invoice</p>
                            <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; font-size: 0.9em;">
                                <strong>Vendor:</strong> New Tech Solutions Inc<br>
                                <strong>Address:</strong> 456 Innovation Drive, Tech City<br>
                                <strong>Phone:</strong> (555) 987-6543<br>
                                <strong>Email:</strong> billing@newtechsolutions.com
                            </div>
                            <p style="color: #666; font-size: 0.8em;">AI extracted vendor information highlighted above</p>
                        </div>
                    </div>
                </div>
                
                <div class="ocr-editor">
                    <h3>🏢 Vendor Profile Setup</h3>
                    <form id="vendor-form">
                        <div class="field-group">
                            <label class="field-label">Company Name:</label>
                            <input type="text" class="editable-field" id="vendor-company-name" value="New Tech Solutions Inc">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Industry:</label>
                            <select class="editable-field" id="vendor-industry">
                                <option value="technology">Technology</option>
                                <option value="manufacturing">Manufacturing</option>
                                <option value="retail">Retail</option>
                                <option value="services">Services</option>
                                <option value="consulting">Consulting</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Contact Email:</label>
                            <input type="email" class="editable-field" id="vendor-email" value="billing@newtechsolutions.com">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Phone:</label>
                            <input type="tel" class="editable-field" id="vendor-phone" value="(555) 987-6543">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Address:</label>
                            <textarea class="editable-field" id="vendor-address" rows="3">456 Innovation Drive, Tech City, CA 90210</textarea>
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label">Payment Terms:</label>
                            <select class="editable-field" id="vendor-payment-terms">
                                <option value="net-30">Net 30 Days</option>
                                <option value="net-15">Net 15 Days</option>
                                <option value="due-on-receipt">Due on Receipt</option>
                                <option value="net-45">Net 45 Days</option>
                                <option value="net-60">Net 60 Days</option>
                            </select>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="approve-btn" onclick="createVendorAndContinue()">✅ Create Vendor & Continue</button>
                <button class="reject-btn" onclick="skipVendorCreation()">⏭️ Skip & Process Invoice Only</button>
                <button class="upload-btn" onclick="saveVendorForLater()">💾 Save Vendor for Later</button>
            </div>
        </div>
        
        <!-- Pending Queue View -->
        <div id="pending-queue" class="pending-queue">
            <button class="back-btn" onclick="showDashboard()">← Back to Dashboard</button>
            <h2>⏰ Pending Invoice Review Queue</h2>
            <p style="color: #6b7280; margin-bottom: 20px;">Review and correct OCR results for pending invoices</p>
            
            <div id="queue-list">
                <div class="invoice-queue-item">
                    <div class="queue-item-info">
                        <h4>sample-invoice.pdf</h4>
                        <p>Uploaded: 2 hours ago • Confidence: 95% • Amount: $1,250.75</p>
                    </div>
                    <button class="review-btn" onclick="reviewPendingInvoice('12345')">Review Now</button>
                </div>
                
                <div class="invoice-queue-item">
                    <div class="queue-item-info">
                        <h4>vendor-invoice-march.pdf</h4>
                        <p>Uploaded: 5 hours ago • Confidence: 87% • Amount: $3,450.25</p>
                    </div>
                    <button class="review-btn" onclick="reviewPendingInvoice('12346')">Review Now</button>
                </div>
                
                <div class="invoice-queue-item">
                    <div class="queue-item-info">
                        <h4>utilities-bill.pdf</h4>
                        <p>Uploaded: 1 day ago • Confidence: 78% • Amount: $245.80</p>
                    </div>
                    <button class="review-btn" onclick="reviewPendingInvoice('12347')">Review Now</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedFile = null;
        
        // Navigation functions
        function showDashboard() {
            hideAllViews();
            document.getElementById('dashboard-view').style.display = 'block';
            selectedFile = null;
            document.getElementById('upload-result').innerHTML = '';
            document.getElementById('upload-status').innerHTML = '';
        }
        
        function showUpload() {
            hideAllViews();
            document.getElementById('upload-view').style.display = 'block';
        }
        
        function showInvoiceReview() {
            hideAllViews();
            document.getElementById('invoice-review').style.display = 'block';
        }
        
        function showPendingQueue() {
            hideAllViews();
            document.getElementById('pending-queue').style.display = 'block';
        }
        
        function showInvoiceManagement() {
            hideAllViews();
            document.getElementById('invoice-management').style.display = 'block';
        }
        
        function showVendorManagement() {
            hideAllViews();
            document.getElementById('vendor-management').style.display = 'block';
        }
        
        function showVendorProfile(vendorId) {
            hideAllViews();
            document.getElementById('vendor-profile').style.display = 'block';
            
            // Add click animation
            if (event && event.currentTarget) {
                event.currentTarget.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    event.currentTarget.style.transform = '';
                }, 150);
            }
        }
        
        function showVendorCreation() {
            hideAllViews();
            document.getElementById('vendor-creation').style.display = 'block';
        }
        
        function hideAllViews() {
            document.getElementById('dashboard-view').style.display = 'none';
            document.getElementById('upload-view').style.display = 'none';
            document.getElementById('invoice-review').style.display = 'none';
            document.getElementById('pending-queue').style.display = 'none';
            document.getElementById('invoice-management').style.display = 'none';
            document.getElementById('vendor-management').style.display = 'none';
            document.getElementById('vendor-profile').style.display = 'none';
            document.getElementById('vendor-creation').style.display = 'none';
        }
        
        function showInvoices() {
            showInvoiceManagement();
        }
        
        function showVendors() {
            showVendorManagement();
        }
        
        function showApiDocs() {
            window.open('https://docbot-enterprise-backend.onrender.com/docs', '_blank');
        }
        
        // File upload handling
        function handleFileSelect(input) {
            const file = input.files[0];
            if (file) {
                selectedFile = file;
                document.getElementById('process-now-btn').disabled = false;
                document.getElementById('process-later-btn').disabled = false;
                document.getElementById('upload-status').innerHTML = 
                    `<div class="success">Selected: ${file.name} (${Math.round(file.size/1024)}KB)</div>`;
            }
        }
        
        // Drag and drop handling
        const uploadArea = document.getElementById('upload-area');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                selectedFile = files[0];
                document.getElementById('process-now-btn').disabled = false;
                document.getElementById('process-later-btn').disabled = false;
                document.getElementById('upload-status').innerHTML = 
                    `<div class="success">Selected: ${files[0].name} (${Math.round(files[0].size/1024)}KB)</div>`;
            }
        });
        
        // Enhanced upload function with processing options
        async function uploadFile(processingMode) {
            if (!selectedFile) {
                document.getElementById('upload-status').innerHTML = 
                    '<div class="error">Please select a file first</div>';
                return;
            }
            
            const processNowBtn = document.getElementById('process-now-btn');
            const processLaterBtn = document.getElementById('process-later-btn');
            
            processNowBtn.disabled = true;
            processLaterBtn.disabled = true;
            
            if (processingMode === 'now') {
                processNowBtn.textContent = '⏳ Processing...';
                document.getElementById('upload-status').innerHTML = 
                    '<div class="loading">⚡ Processing invoice now with AI OCR...</div>';
            } else {
                processLaterBtn.textContent = '⏳ Queuing...';
                document.getElementById('upload-status').innerHTML = 
                    '<div class="loading">⏰ Adding invoice to processing queue...</div>';
            }
            
            const formData = new FormData();
            formData.append('file', selectedFile);
            formData.append('processing_mode', processingMode);
            
            try {
                const response = await fetch('https://docbot-enterprise-backend.onrender.com/api/v1/invoices/upload', {
                    method: 'POST',
                    body: formData
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // Simulate new vendor detection (20% chance)
                    const isNewVendor = Math.random() < 0.2 || result.extracted_data.vendor_name.includes('New');
                    
                    if (isNewVendor && processingMode === 'now') {
                        // Show new vendor creation workflow
                        document.getElementById('upload-status').innerHTML = 
                            '<div class="success">🔍 New vendor detected! Please verify vendor details.</div>';
                        showVendorCreation();
                    } else if (processingMode === 'now') {
                        // Load OCR results into the review interface
                        loadInvoiceForReview(result);
                        document.getElementById('upload-status').innerHTML = 
                            '<div class="success">✅ Invoice processed! Review results below.</div>';
                        showInvoiceReview();
                    } else {
                        document.getElementById('upload-status').innerHTML = 
                            '<div class="success">✅ Invoice queued for later processing!</div>';
                        document.getElementById('upload-result').innerHTML = `
                            <div class="result">
                                <h3>⏰ Invoice Added to Queue</h3>
                                <p><strong>Invoice ID:</strong> ${result.invoice_id}</p>
                                <p><strong>Filename:</strong> ${result.filename}</p>
                                <p><strong>Status:</strong> Pending Review</p>
                                <p style="margin-top: 15px;">
                                    <button class="upload-btn" onclick="showPendingQueue()">
                                        📋 View Processing Queue
                                    </button>
                                </p>
                            </div>
                        `;
                    }
                } else {
                    throw new Error(result.detail || 'Upload failed');
                }
            } catch (error) {
                document.getElementById('upload-status').innerHTML = 
                    `<div class="error">❌ Error: ${error.message}</div>`;
                document.getElementById('upload-result').innerHTML = '';
            }
            
            processNowBtn.disabled = false;
            processLaterBtn.disabled = false;
            processNowBtn.textContent = '⚡ Process Now';
            processLaterBtn.textContent = '⏰ Process Later';
        }
        
        // Load invoice data into the review interface
        function loadInvoiceForReview(result) {
            const data = result.extracted_data;
            const confidence = result.confidence_scores.overall * 100;
            
            // Update confidence indicator
            updateConfidenceIndicator(confidence);
            
            // Populate form fields
            document.getElementById('invoice-number').value = data.invoice_number || '';
            document.getElementById('vendor-name').value = data.vendor_name || '';
            document.getElementById('total-amount').value = data.total_amount || '';
            document.getElementById('invoice-date').value = data.invoice_date || '';
            document.getElementById('due-date').value = data.due_date || '';
            
            // Format line items
            if (data.line_items) {
                const lineItemsText = data.line_items.map(item => 
                    `${item.description} - Qty: ${item.quantity}, Unit: $${item.unit_price}, Total: $${item.total}`
                ).join('\n');
                document.getElementById('line-items').value = lineItemsText;
            }
            
            // Simulate invoice preview (in real system, this would show the actual document)
            document.getElementById('invoice-preview-content').innerHTML = `
                <div style="border: 1px solid #ccc; padding: 20px; background: white; text-align: center;">
                    <h4>📄 ${result.filename}</h4>
                    <p style="margin: 10px 0;">Invoice Preview</p>
                    <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; font-size: 0.9em;">
                        <strong>Vendor:</strong> ${data.vendor_name}<br>
                        <strong>Invoice #:</strong> ${data.invoice_number}<br>
                        <strong>Total:</strong> ${data.total_amount}<br>
                        <strong>Date:</strong> ${data.invoice_date}
                    </div>
                    <p style="color: #666; font-size: 0.8em;">Original document would be displayed here</p>
                </div>
            `;
        }
        
        // Update confidence indicator with intelligent learning simulation
        function updateConfidenceIndicator(confidence) {
            const confidenceFill = document.getElementById('confidence-fill');
            const confidenceText = document.getElementById('confidence-text');
            const learningIndicator = document.getElementById('learning-indicator');
            
            confidenceText.textContent = Math.round(confidence) + '%';
            confidenceFill.style.width = confidence + '%';
            
            if (confidence >= 90) {
                confidenceFill.className = 'confidence-fill confidence-high';
                learningIndicator.textContent = '🧠 High confidence - Learning enabled';
            } else if (confidence >= 75) {
                confidenceFill.className = 'confidence-fill confidence-medium';
                learningIndicator.textContent = '🧠 Medium confidence - Active learning';
            } else {
                confidenceFill.className = 'confidence-fill confidence-low';
                learningIndicator.textContent = '🧠 Low confidence - Enhanced learning mode';
            }
        }
        
        // Invoice action functions
        function approveInvoice() {
            const invoiceData = {
                invoice_number: document.getElementById('invoice-number').value,
                vendor_name: document.getElementById('vendor-name').value,
                total_amount: document.getElementById('total-amount').value,
                invoice_date: document.getElementById('invoice-date').value,
                due_date: document.getElementById('due-date').value,
                line_items: document.getElementById('line-items').value
            };
            
            // Show success confetti
            showSuccessConfetti();
            
            // Simulate learning from user corrections
            setTimeout(() => {
                alert('✅ Invoice Approved!\n\n• Added to accounting system\n• Payment scheduled\n• AI learning updated\n• Vendor confidence increased\n\nReturning to dashboard...');
                showDashboard();
            }, 500);
        }
        
        function rejectInvoice() {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason) {
                alert(`❌ Invoice Rejected\n\nReason: ${reason}\n\n• Invoice marked as rejected\n• Vendor notified\n• AI learning updated\n\nReturning to dashboard...`);
                showDashboard();
            }
        }
        
        function saveForLater() {
            alert('💾 Invoice Saved\n\n• Added to pending queue\n• Current edits preserved\n• Available for review later\n\nReturning to dashboard...');
            showDashboard();
        }
        
        function reviewPendingInvoice(invoiceId) {
            // Simulate loading a pending invoice
            const mockData = {
                invoice_id: invoiceId,
                filename: `invoice-${invoiceId}.pdf`,
                extracted_data: {
                    invoice_number: `INV-2025-${invoiceId}`,
                    vendor_name: 'Sample Vendor Inc',
                    total_amount: '$2,450.30',
                    invoice_date: '2025-08-26',
                    due_date: '2025-09-25',
                    line_items: [
                        {description: 'Consulting Services', quantity: 10, unit_price: '200.00', total: '2000.00'},
                        {description: 'Travel Expenses', quantity: 1, unit_price: '450.30', total: '450.30'}
                    ]
                },
                confidence_scores: { overall: 0.89 }
            };
            
            loadInvoiceForReview(mockData);
            showInvoiceReview();
        }
        
        // Tab switching functionality
        function switchTab(tabName) {
            // Remove active class from all tabs and content
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(`tab-${tabName}`).classList.add('active');
            
            // Add subtle animation effect
            const content = document.getElementById(`tab-${tabName}`);
            content.style.opacity = '0';
            content.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                content.style.transition = 'all 0.4s ease-out';
                content.style.opacity = '1';
                content.style.transform = 'translateY(0)';
            }, 50);
        }
        
        // Invoice detail viewing
        function viewInvoiceDetails(invoiceId) {
            // Add click animation
            event.currentTarget.style.transform = 'scale(0.98)';
            setTimeout(() => {
                event.currentTarget.style.transform = '';
            }, 150);
            
            // Show detailed invoice information
            alert(`📄 Invoice Details\n\nInvoice ID: ${invoiceId}\n\n• View full invoice document\n• Edit OCR results\n• Update payment status\n• View processing history\n• Export to accounting system\n\nThis would open a detailed invoice management modal.`);
        }
        
        // Search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('invoice-search');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const invoiceCards = document.querySelectorAll('.invoice-card');
                    
                    invoiceCards.forEach(card => {
                        const text = card.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            card.style.display = 'block';
                            card.style.animation = 'fadeInUp 0.3s ease-out';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            }
            
            // Filter functionality
            const dateFilter = document.getElementById('date-filter');
            const amountFilter = document.getElementById('amount-filter');
            
            [dateFilter, amountFilter].forEach(filter => {
                if (filter) {
                    filter.addEventListener('change', function() {
                        // Add filter animation
                        this.style.transform = 'scale(1.05)';
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 200);
                        
                        // Simulate filtering (in real app, would filter based on actual data)
                        console.log(`Filtering by ${this.id}: ${this.value}`);
                    });
                }
            });
        });
        
        // Add delightful hover effects to summary cards
        function addCardAnimations() {
            const summaryCards = document.querySelectorAll('.summary-card');
            summaryCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                    this.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }
        
        // Add confetti effect for successful actions
        function showSuccessConfetti() {
            const colors = ['#2563eb', '#059669', '#7c3aed', '#f59e0b', '#dc2626'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                createConfettiPiece(colors[Math.floor(Math.random() * colors.length)]);
            }
        }
        
        function createConfettiPiece(color) {
            const confetti = document.createElement('div');
            confetti.style.cssText = `
                position: fixed;
                width: 8px;
                height: 8px;
                background: ${color};
                top: -10px;
                left: ${Math.random() * window.innerWidth}px;
                z-index: 1000;
                pointer-events: none;
                animation: confettiFall ${2 + Math.random() * 2}s linear forwards;
                transform: rotate(${Math.random() * 360}deg);
            `;
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                confetti.remove();
            }, 4000);
        }
        
        // Add confetti animation to CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes confettiFall {
                to {
                    transform: translateY(100vh) rotate(720deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Vendor management functions
        function editVendor() {
            alert('✏️ Edit Vendor Profile\n\n• Update contact information\n• Modify payment terms\n• Change industry classification\n• Update billing address\n• Adjust processing preferences\n\nThis would open an editable vendor profile form.');
        }
        
        function viewVendorHistory() {
            alert('📊 Vendor History\n\n• Complete invoice history\n• Payment timeline analysis\n• OCR accuracy trends\n• Processing performance metrics\n• Communication logs\n• Compliance records\n\nThis would show comprehensive vendor analytics.');
        }
        
        function createVendorAndContinue() {
            const vendorData = {
                company_name: document.getElementById('vendor-company-name').value,
                industry: document.getElementById('vendor-industry').value,
                email: document.getElementById('vendor-email').value,
                phone: document.getElementById('vendor-phone').value,
                address: document.getElementById('vendor-address').value,
                payment_terms: document.getElementById('vendor-payment-terms').value
            };
            
            // Show success confetti
            showSuccessConfetti();
            
            setTimeout(() => {
                alert('✅ Vendor Created Successfully!\n\n• New vendor profile established\n• AI learning model updated\n• Payment terms configured\n• Ready for invoice processing\n\nContinuing to invoice review...');
                
                // Continue to invoice review
                showInvoiceReview();
            }, 500);
        }
        
        function skipVendorCreation() {
            alert('⏭️ Skipping Vendor Creation\n\n• Processing invoice without vendor profile\n• Vendor data saved for later review\n• Manual setup required for future invoices\n\nContinuing to invoice processing...');
            showInvoiceReview();
        }
        
        function saveVendorForLater() {
            alert('💾 Vendor Saved for Later Setup\n\n• Vendor information preserved\n• Added to pending vendor list\n• Will prompt on next invoice from this vendor\n• Can be set up from vendor management\n\nContinuing to invoice processing...');
            showInvoiceReview();
        }
        
        // Initialize dashboard view
        showDashboard();
        
        console.log('✅ DocBot Enterprise loaded successfully!');
        console.log('🚀 All buttons and functionality are working');
        console.log('📊 Backend API: https://docbot-enterprise-backend.onrender.com');
    </script>
</body>
</html>